<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    
    <h:head>
        <title>Property Search</title>
    </h:head>
    <h:body>
        
        <h2>Property Address Lookup</h2>
        <p>
        <h:form id="form">
            
            
            <h:selectOneListbox 
                id="issueSelectOne" 
                title="Select the issue of concern"

                value="#{actionRequestBean.requestorType}">

                <f:selectItem itemValue="1" itemLabel="item 1" />
                <f:selectItem itemValue="2" itemLabel="item 2" />
                <f:selectItem itemValue="3" itemLabel="item 3" />

                            
            </h:selectOneListbox>
            
            <h:outputLabel value="Test Address:" for="address"/>
            <h:outputText
                id="requestorTypeDisplay"
                value="#{actionRequestBean.requestorType}" />
           
            
            <h3>Search by text in property Address</h3>
            <p:inputText
                id="addrPart"
                size="20"
                value="#{propSearchBean.addrPart}" />
                    
            <p>
            <h:commandButton
                value="Search"
                action="#{propSearchBean.lookUpProperty}" />
            </p>
            <p>
                
            <h:outputLabel value="Test Address:" for="address"/>
            <h:outputText
                id="addrOutput"
                value="#{propSearchBean.addrPart}" />
            </p>
            <!--Display of properties from search-->
            <h2>Search Results:</h2>
            
             <h:dataTable id="properties"
                         value="#{propSearchBean.propList}"
                         border="1" 
                         var="prop">

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Property ID"/>
                    </f:facet>
                    <h:outputText value="#{prop.propertyID}" />
                </h:column> 

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Parcel ID"/>
                    </f:facet>
                    <h:outputText value="#{prop.parID}" />
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Address"/>
                    </f:facet>
                    <h:outputText value="#{prop.address}" />
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Lot and Block"/>
                    </f:facet>
                    <h:outputText value="#{prop.lotAndBlock}" />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="View Profile" />
                    </f:facet>
                    <h:commandButton value="View Profile" />
                </h:column>
            </h:dataTable>
            </h:form>
        </p>
    </h:body>
</html>


